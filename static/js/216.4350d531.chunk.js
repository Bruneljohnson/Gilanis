"use strict";(self.webpackChunkgilanis=self.webpackChunkgilanis||[]).push([[216],{4216:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(2791),a=n(5861),s=n(885),o=n(7757),i=n.n(o),c="AuthForm_auth__-TECN",u="AuthForm_control__4A9Is",l="AuthForm_actions__WXgFv",d="AuthForm_toggle__6ngHr",h="AuthForm_invalid__DgLz7",p="AuthForm_eyeIcon__zW7mP",m=n(6030),f=n(6871),v=n(704),x=n(3408),g=n(6515),j=n(270),y=n(9126),b=n(184),w=function(){var e=(0,m.I0)(),t=(0,f.s0)(),n=(0,r.useRef)(),o=(0,r.useState)(!0),w=(0,s.Z)(o,2),k=w[0],N=w[1],Z=(0,r.useState)(!1),A=(0,s.Z)(Z,2),T=A[0],C=A[1],_=(0,r.useState)(!1),S=(0,s.Z)(_,2),F=S[0],I=S[1],L=(0,r.useState)(!1),R=(0,s.Z)(L,2),P=R[0],z=R[1],E=(0,g.Z)(),H=E.sendRequest,q=E.error,B=(0,j.Z)((function(e){return e.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)})),D=B.value,O=B.error,W=B.isValid,U=B.inputHandler,G=B.blurHandler,V=B.clear,X=(0,j.Z)((function(e){return e.match(/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})/)})),Y=X.value,M=X.error,$=X.isValid,J=X.inputHandler,K=X.blurHandler,Q=X.clear,ee=function(){I((function(e){return!e}));var e="password"===n.current.getAttribute("type")?"text":"password";n.current.setAttribute("type",e)};(0,r.useEffect)((function(){z(!(!W||!$))}),[W,$]);var te=function(){var n=(0,a.Z)(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),P){n.next=3;break}return n.abrupt("return");case 3:H({url:k?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDvXaGgOIHB37ZcWDqO-6kleELjRMa-3Ns":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDvXaGgOIHB37ZcWDqO-6kleELjRMa-3Ns\n    ",method:"POST",body:{email:D,password:Y,returnSecureToken:!0},headers:{"Content-Type":"application/json"}},(function(n){if(k&&n){C(!0);var r=n.idToken,a=new Date((new Date).getTime()+1e3*+n.expiresIn).toISOString();setTimeout((function(){e(v.d.login(r)),e((0,x.mB)(r,a)),t("/home",{replace:!0})}),2e3)}else t("/home",{replace:!0})})),V(),Q();case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ne=O?"".concat(u," ").concat(h):"".concat(u),re=M?"".concat(u," ").concat(h):"".concat(u);return(0,b.jsx)("section",{className:"app-bg section-padding",children:(0,b.jsxs)("div",{className:c,children:[q&&(0,b.jsxs)("div",{className:"flex-center",children:[(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"p-opensans",children:q.message})}),(0,b.jsx)("div",{children:(0,b.jsx)("button",{type:"button",style:{marginTop:"2rem",fontFamily:"var(--font-alt)",fontWeight:400},className:"custom-button",onClick:function(){return t("/home",{replace:!0})},children:"Retry"})})]}),!q&&(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)("h1",{className:"headtext-cormorant",children:k?"Login":"Sign Up"}),(0,b.jsxs)("form",{onSubmit:te,children:[(0,b.jsxs)("div",{className:ne,children:[(0,b.jsx)("label",{htmlFor:"email",children:"Your Email"}),(0,b.jsx)("input",{type:"email",id:"email",value:D,onChange:U,onBlur:G,placeholder:"johndoe@johndoe.com",required:!0}),O&&(0,b.jsx)("p",{className:"p-opensans",children:"Please enter a valid e-mail"})]}),(0,b.jsxs)("div",{className:re,children:[(0,b.jsx)("label",{htmlFor:"password",children:"Your Password"}),(0,b.jsxs)("div",{style:{position:"relative"},children:[(0,b.jsx)("input",{type:"password",id:"password",value:Y,onChange:J,onBlur:K,min:8,placeholder:"Abcdef5.",required:!0,ref:n}),F&&(0,b.jsx)(y.I$m,{className:p,size:25,onClick:ee}),!F&&(0,b.jsx)(y.rCC,{className:p,size:25,onClick:ee})]}),M&&(0,b.jsx)("p",{className:"p-opensans",children:"Password must contain one uppercase letter, one special character (,.?!), and is at least eight characters."})]}),(0,b.jsxs)("div",{className:l,children:[T&&(0,b.jsx)("button",{children:"Please Wait..."}),!T&&(0,b.jsx)("button",{children:k?"Login":"Create Account"}),(0,b.jsx)("button",{style:{marginBottom:"2rem"},type:"button",className:d,onClick:function(){N((function(e){return!e}))},children:k?"Create new account":"Login with existing account"})]})]})]})]})})},k=function(){return(0,b.jsx)(r.Fragment,{children:(0,b.jsx)(w,{})})}},6515:function(e,t,n){var r=n(5861),a=n(885),s=n(7757),o=n.n(s),i=n(2791),c=function(e){return new Promise((function(t,n){setTimeout((function(){n(new Error("Request Failed! Session Timeout after ".concat(e," seconds")))}),1e3*e)}))};t.Z=function(){var e=(0,i.useState)(!1),t=(0,a.Z)(e,2),n=t[0],s=t[1],u=(0,i.useState)(!1),l=(0,a.Z)(u,2),d=l[0],h=l[1],p=(0,i.useCallback)(function(){var e=(0,r.Z)(o().mark((function e(t,n){var r,a,i,u,l,d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,a=t.url,i=t.method,u=t.headers,l=t.body,e.next=5,Promise.race([fetch(a,{method:null!==i&&void 0!==i?i:"GET",body:null!==(r=JSON.stringify(l))&&void 0!==r?r:null,headers:null!==u&&void 0!==u?u:{}}),c(10)]);case 5:if((d=e.sent).ok){e.next=8;break}throw new Error("".concat(d.status,"! Sorry, Your request failed to execute."));case 8:return e.next=10,d.json();case 10:p=e.sent,n(p),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),h(e.t0);case 17:s(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n){return e.apply(this,arguments)}}(),[]);return{isLoading:n,error:d,sendRequest:p}}},270:function(e,t,n){var r=n(885),a=n(2791),s=function(e,t){return"INPUT"===t.type?{value:t.value,isTouched:e.isTouched}:"BLUR"===t.type?{value:e.value,isTouched:!0}:"CLEAR"===t.type?{value:"",isTouched:!1}:void 0};t.Z=function(e){var t=(0,a.useReducer)(s,{value:"",isTouched:!1}),n=(0,r.Z)(t,2),o=n[0],i=n[1],c=e(o.value),u=!c&&o.isTouched;return{value:o.value,isValid:c,error:u,inputHandler:function(e){i({type:"INPUT",value:e.target.value})},blurHandler:function(){i({type:"BLUR"})},clear:function(){i({type:"CLEAR"})}}}}}]);
//# sourceMappingURL=216.4350d531.chunk.js.map