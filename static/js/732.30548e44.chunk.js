"use strict";(self.webpackChunkgilanis=self.webpackChunkgilanis||[]).push([[732],{3732:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var a=t(885),r=t(2791),l=t(4164),o={"modal-backdrop":"Modal_modal-backdrop__xt1OB","modal-overlay":"Modal_modal-overlay__8w2d2","modal-content":"Modal_modal-content__iFBWC","slide-down":"Modal_slide-down__zoDl9"},s=t(6030),c=t(6974),i=t(184),u=function(e){var n=(0,s.I0)();return(0,i.jsx)("div",{onClick:function(){n(c.c.hideCart())},className:o["modal-backdrop"]})},d=function(e){return(0,i.jsx)("div",{className:"".concat(o["modal-overlay"]," ").concat(o["slide-down"]),children:(0,i.jsx)("div",{className:o["modal-overlay_content"],children:e.children})})},m=function(e){return(0,i.jsxs)(r.Fragment,{children:[l.createPortal((0,i.jsx)(u,{}),document.getElementById("backdrop-root")),l.createPortal((0,i.jsx)(d,{children:e.children}),document.getElementById("backdrop-root"))]})},h="Cart_cart-items__YO7J6",p="Cart_total__F-EkC",f="Cart_hidden__YMVCj",_="Cart_actions__l1l2y",v="Cart_button--alt__PSeXC",x="Cart_button__UnOO1",b="Cart_order__zYBHQ",j="Cart_button-orderSuccess__dShUl",C=t(8683),y="CartItem_cart-item__dtdCk",N="CartItem_summary__ue4Uc",k="CartItem_price__pP54w",g="CartItem_amount__b0-du",F="CartItem_actions__JbqCw",I="CartItem_button--alt__GITEn",w=function(e){var n=e.item,t=(0,s.I0)(),a=new Intl.NumberFormat(navigator.language,{style:"currency",currency:"GBP"}).format(e.price.toFixed(2));return(0,i.jsxs)("li",{className:y,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"p-opensans",children:e.title}),(0,i.jsxs)("div",{className:N,children:[(0,i.jsx)("span",{className:k,children:a}),(0,i.jsxs)("span",{className:g,children:["x ",e.quantity]})]})]}),(0,i.jsxs)("div",{className:F,children:[(0,i.jsx)("button",{className:I,onClick:function(){t(c.c.deleteItem(n.id))},children:"-"}),(0,i.jsx)("button",{onClick:function(){t(c.c.addItem((0,C.Z)((0,C.Z)({},n),{},{quantity:1})))},children:"+"})]})]})},Z="CheckoutForm_form__B2w1T",T="CheckoutForm_control__kFWfQ",P="CheckoutForm_actions__HPzuY",H="CheckoutForm_button--alt__GG7fV",S="CheckoutForm_invalid__JxHLD",B=t(270),E=function(e){var n=(0,B.Z)((function(e){return""!==e.trim()&&e.trim().includes(" ")})),t=n.value,l=n.error,o=n.isValid,s=n.inputHandler,c=n.blurHandler,u=n.clear,d=(0,B.Z)((function(e){return e.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)})),m=d.value,h=d.error,p=d.isValid,f=d.inputHandler,_=d.blurHandler,v=d.clear,x=(0,B.Z)((function(e){return 11===e.trim().length})),b=x.value,j=x.error,C=x.isValid,y=x.inputHandler,N=x.blurHandler,k=x.clear,g=(0,B.Z)((function(e){return""!==e.trim()&&e.trim().includes(" ")})),F=g.value,I=g.error,w=g.isValid,E=g.inputHandler,q=g.blurHandler,U=g.clear,A=(0,r.useState)(!1),L=(0,a.Z)(A,2),R=L[0],M=L[1];(0,r.useEffect)((function(){M(!!(w&&o&&C&&p))}),[w,o,C,p]);var O=l?"".concat(T," ").concat(S):"".concat(T),V=h?"".concat(T," ").concat(S):"".concat(T),z=I?"".concat(T," ").concat(S):"".concat(T),D=j?"".concat(T," ").concat(S):"".concat(T);return(0,i.jsxs)("form",{onSubmit:function(n){if(n.preventDefault(),R){var a={fullName:t,email:m,mobile:b,address:F};e.onUserData(a),u(),v(),k(),U()}},className:Z,children:[(0,i.jsxs)("div",{className:O,children:[(0,i.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),(0,i.jsx)("input",{value:t,type:"text",id:"fullName",onChange:s,onBlur:c,placeholder:"John Doe",required:!0}),l&&(0,i.jsx)("p",{className:"p-opensans",children:"Please enter your full name."})]}),(0,i.jsxs)("div",{className:V,children:[(0,i.jsx)("label",{htmlFor:"emailAddress",children:"E-mail Address"}),(0,i.jsx)("input",{value:m,type:"email",id:"emailAddress",onChange:f,onBlur:_,placeholder:"johndoe@johndoe.com",required:!0}),h&&(0,i.jsx)("p",{className:"p-opensans",children:"Please enter your e-mail"})]}),(0,i.jsxs)("div",{className:D,children:[(0,i.jsx)("label",{htmlFor:"telephone",children:"Mobile Number"}),(0,i.jsx)("input",{value:b,type:"number",id:"telephone",onChange:y,onBlur:N,placeholder:"07912345678"}),j&&(0,i.jsx)("p",{className:"p-opensans",children:"Please enter your mobile number"})]}),(0,i.jsxs)("div",{className:z,children:[(0,i.jsx)("label",{htmlFor:"address",children:"Address"}),(0,i.jsx)("input",{value:F,type:"address",id:"address",onChange:E,onBlur:q,placeholder:"14 Mozart Road, London, W10 5UE",required:!0}),I&&(0,i.jsx)("p",{className:"p-opensans",children:"Please enter your current address"})]}),(0,i.jsxs)("div",{className:P,children:[(0,i.jsx)("button",{onClick:e.onClick,className:H,children:"Cancel"}),(0,i.jsx)("button",{disabled:!R,children:"Submit"})]})]})},q=t(6515),U=function(e){var n=(0,r.useState)(!1),t=(0,a.Z)(n,2),l=t[0],o=t[1],u=(0,r.useState)(!1),d=(0,a.Z)(u,2),C=d[0],y=d[1],N=(0,s.I0)(),k=(0,s.v9)((function(e){return e.cart.total})),g=(0,s.v9)((function(e){return e.cart.items})),F=(0,q.Z)().sendRequest,I=new Intl.NumberFormat(navigator.language,{style:"currency",currency:"GBP"}).format(k.toFixed(2)),Z=function(){N(c.c.hideCart())},T=g.length>0;return(0,i.jsxs)(m,{onHideCart:Z,children:[C&&(0,i.jsxs)("section",{className:b,children:[(0,i.jsx)("p",{style:{color:"var(--color-golden)"},className:"p-cormorant",children:"Thank You! Your order has been confirmed."}),(0,i.jsx)("button",{onClick:Z,className:"custom-button ".concat(j),style:{fontFamily:"var(--font-alt)"},children:"Close"})]}),!C&&(0,i.jsx)("ul",{className:h,children:g.map((function(e){return(0,i.jsx)(w,{title:e.title,price:e.price,quantity:e.quantity,item:e},e.id)}))}),!C&&(0,i.jsxs)("div",{className:p,children:[(0,i.jsx)("span",{children:"Total Amount"}),(0,i.jsx)("span",{children:I})]}),(0,i.jsx)("br",{}),l&&!C&&(0,i.jsx)(E,{onClick:Z,onUserData:function(e){F({url:"https://react-tester-9d1b5-default-rtdb.europe-west1.firebasedatabase.app/orders.json",method:"POST",headers:{"content-Type":"application/json"},body:{user:e,orderItems:g}},(function(){y(!0),N(c.c.clearCart())}))}}),(0,i.jsxs)("div",{className:l?f:_,children:[(0,i.jsx)("button",{onClick:Z,className:"custom-button ".concat(v),style:{fontFamily:"var(--font-alt)"},children:"Close"}),T&&(0,i.jsx)("button",{className:"custom-button ".concat(x),onClick:function(){o(!0)},style:{fontFamily:"var(--font-alt)"},children:"Order"})]})]})}},6515:function(e,n,t){var a=t(5861),r=t(885),l=t(7757),o=t.n(l),s=t(2791),c=function(e){return new Promise((function(n,t){setTimeout((function(){t(new Error("Request Failed! Session Timeout after ".concat(e," seconds")))}),1e3*e)}))};n.Z=function(){var e=(0,s.useState)(!1),n=(0,r.Z)(e,2),t=n[0],l=n[1],i=(0,s.useState)(!1),u=(0,r.Z)(i,2),d=u[0],m=u[1],h=(0,s.useState)(!1),p=(0,r.Z)(h,2),f=p[0],_=p[1],v=(0,s.useCallback)(function(){var e=(0,a.Z)(o().mark((function e(n,t){var a,r,s,i,u,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,r=n.url,s=n.method,i=n.headers,u=n.body,e.next=5,Promise.race([fetch(r,{method:null!==s&&void 0!==s?s:"GET",body:null!==(a=JSON.stringify(u))&&void 0!==a?a:null,headers:null!==i&&void 0!==i?i:{}}),c(10)]);case 5:if((d=e.sent).ok){e.next=8;break}throw new Error("".concat(d.status,"! Sorry, Log In Failed. Have you signed up?"));case 8:return e.next=10,d.json();case 10:h=e.sent,t(h),_(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),m(e.t0);case 18:l(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(n,t){return e.apply(this,arguments)}}(),[]);return{isLoading:t,error:d,finished:f,sendRequest:v}}},270:function(e,n,t){var a=t(885),r=t(2791),l=function(e,n){return"INPUT"===n.type?{value:n.value,isTouched:e.isTouched}:"BLUR"===n.type?{value:e.value,isTouched:!0}:"CLEAR"===n.type?{value:"",isTouched:!1}:void 0};n.Z=function(e){var n=(0,r.useReducer)(l,{value:"",isTouched:!1}),t=(0,a.Z)(n,2),o=t[0],s=t[1],c=e(o.value),i=!c&&o.isTouched;return{value:o.value,isValid:c,error:i,inputHandler:function(e){s({type:"INPUT",value:e.target.value})},blurHandler:function(){s({type:"BLUR"})},clear:function(){s({type:"CLEAR"})}}}}}]);
//# sourceMappingURL=732.30548e44.chunk.js.map